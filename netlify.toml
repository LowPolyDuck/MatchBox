[build]
  command = "turbo run build --filter @repo/webapp"
  publish = "apps/webapp/.next"

[build.environment]
  # Skip secrets scanning for these intentionally public Next.js env vars
  # NEXT_PUBLIC_* variables are designed to be exposed to the client
  SECRETS_SCAN_OMIT_KEYS = "NEXT_PUBLIC_SUPABASE_URL,NEXT_PUBLIC_SUPABASE_ANON_KEY"

# Proxy /docs/* to the docs site (hosted separately on Netlify)
# Update the URL below to your docs site's Netlify URL after deploying matchdocs
[[redirects]]
  from = "/docs/*"
  to = "https://matchdocs.netlify.app/docs/:splat"
  status = 200
  force = true

